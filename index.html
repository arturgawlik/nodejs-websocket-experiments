<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>websocket experiments</title>
</head>
<body>
    <p>hello websockets</p>
    <script>
        const webSocket = new WebSocket("ws://localhost");
        webSocket.addEventListener("open", (event) => {
            console.log("websocket open: ", event);

            webSocket.send("hello");
            setTimeout(() => {
                webSocket.send("from user agent");
            }, 5000);
        });

        webSocket.addEventListener("message", event => {
            console.log("message from server: ", event);
        });

        webSocket.addEventListener("close", (event) => {
            console.log("websocket closed: ", event);
        });

        webSocket.addEventListener("error", (event) => {
            console.log("websocket error: ", event);
        });
        
    </script>
</body>
</html>